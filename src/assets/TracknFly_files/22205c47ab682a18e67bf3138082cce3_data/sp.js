/*
* Snowplow - The world's most powerful web analytics platform
*
* @version     19.18.9
*
* Minimum supported browsers:
* - Firefox 27
* - Chrome 32
* - IE 9
* - Safari 8
*/

!function(){"use strict";function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}for(var t=function fixupTitle(t){if(!v(t)){t=t.text||"";var e=document.getElementsByTagName("title");e&&void 0!==e[0]&&(t=e[0].text)}return t},e=function fixupDomain(t){var e=t.length;return"."===t.charAt(--e)&&(t=t.slice(0,e)),"*."===t.slice(0,2)&&(t=t.slice(1)),t},r=function getReferrer(t){var e="",r=a("referrer",window.location.href)||a("referer",window.location.href);if(r)return r;if(t)return t;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(t){e=""}}return""===e&&(e=document.referrer),e},n=function addEventListener(t,e,r,n){return t.addEventListener?(t.addEventListener(e,r,n),!0):t.attachEvent?t.attachEvent("on"+e,r):(t["on"+e]=r,!0)},o=function cookie(t,e,r,n,i,o,a){return arguments.length>1?document.cookie=t+"="+encodeURIComponent(e)+(r?"; expires="+new Date(+new Date+1e3*r).toUTCString():"")+(n?"; path="+n:"")+(i?"; domain="+i:"")+(o?"; SameSite="+o:"None")+(a?"; secure":""):decodeURIComponent((("; "+document.cookie).split("; "+t+"=")[1]||"").split(";")[0])},a=function fromQuerystring(t,e){var r=RegExp("^[^#]*[?&]"+t+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},s=function warn(t){void 0!==window.console&&window.console.warn("Snowplow: "+t)},u=function attemptWriteLocalStorage(t,e){try{return localStorage.setItem(t,e),!0}catch(t){return!1}},l=function findRootDomain(){for(var t="_sp_root_domain_test_"+(new Date).getTime(),e="_test_value_"+(new Date).getTime(),r=window.location.hostname.split("."),n=r.length-1;n>=0;){var i=r.slice(n,r.length).join(".");if(o(t,e,0,"/",i),o(t)===e){d(t,i);for(var a=m("_sp_root_domain_test_"),s=0;s<a.length;s++)d(a[s],i);return i}n-=1}return window.location.hostname},h=function isValueInArray(t,e){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},d=function deleteCookie(t,e){o(t,"",-1,"/",e)},m=function getCookiesWithPrefix(t){for(var e=document.cookie.split("; "),r=[],n=0;n<e.length;n++)e[n].substring(0,t.length)===t&&r.push(e[n]);return r},g=function fixupUrl(t,e,r){switch(t){case"translate.googleusercontent.com":""===r&&(r=e),t=function getHostName(t){var e=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:\/#]+)/.exec(t);return e?e[1]:t}(e=function getParameter(t,e){var r=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t);return a(e,r[1])}(e,"u"))}return[t,e,r]},p=function isFunction(t){return"function"==typeof t},v=function isString(t){return"string"==typeof t},y=function getCollectorUrl(t){var e=window.location.host;return t||e.match("beta.aviasales")?"beta.avsplow.com":e.match("aviasales")||"vsepoka.ru"===e?"sp.aviasales.ru":"avsplow.com"},S=Symbol(),w=Symbol(),b=Symbol(),k=Symbol(),A=function(){function InQueueManager(t,e,r,n,i){this.TrackerConstructor=t,this.version=e,this.mutSnowplowState=r,this.asyncQueue=n,this.functionName=i,this.trackerDictionary={},this.windowAlias=window;for(var o=0;o<n.length;o++)this[w](n[o])}var t=InQueueManager.prototype;return t[S]=function(t){var e=this,r=[];if(t&&0!==t.length)for(var n=Array.isArray(o=t),i=0,o=n?o:o[Symbol.iterator]();;){var a;if(n){if(i>=o.length)break;a=o[i++]}else{if((i=o.next()).done)break;a=i.value}var u=a;this.trackerDictionary.hasOwnProperty(u)?r.push(this.trackerDictionary[u]):s('Warning: Tracker namespace "'+u+'" not configured')}else r=Object.keys(this.trackerDictionary).map(function(t){return e.trackerDictionary[t]});return 0===r.length&&s("Warning: No tracker configured"),r},t[b]=function(t,e,r){r=r||{},this.trackerDictionary.hasOwnProperty(t)?s("Tracker namespace "+t+" already exists."):(this.trackerDictionary[t]=new this.TrackerConstructor(this.functionName,t,this.version,this.mutSnowplowState,r),this.trackerDictionary[t].setCollectorUrl(e))},t[k]=function(t){var e=t.split(":");return[e[0],e.length>1?e[1].split(";"):[]]},t[w]=function(){var t,e,r,n,i,o,a,s;for(t=0;t<arguments.length;t+=1)if(n=arguments[t],i=[].shift.call(n),p(i))i.apply(this.trackerDictionary,n);else if(r=(o=this[k](i))[0],a=o[1],"newTracker"!==r)if("create"!==r)for(s=this[S](a),e=0;e<s.length;e++)s[e][r].apply(s[e],n);else{var u=n[0],c=u.project_name,l=u.auto_page_view,h=u.encodeBase64,f=u.contexts,d=u.beacon,m=u.debug;if(this[b]("sp",y(m),{discoverRootDomain:!0,beacon:void 0===d||d,appId:c,encodeBase64:h,respectDoNotTrack:!1,contexts:Object.assign({},{webPage:!0,performanceTiming:!1,gaCookies:!1,geolocation:!1},f)}),!0===l)for(s=this[S](a),e=0;e<s.length;e++)s[e].trackPageView.apply(s[e],{})}else this[b](n[0],n[1],n[2])},t.push=function push(){this[w].apply(this,arguments)},InQueueManager}(),T=function(){function BrowserFeatureDetector(t,e,r,n){this.windowAlias=t,this.navigatorAlias=e,this.screenAlias=r,this.documentAlias=n}var t=BrowserFeatureDetector.prototype;return t.hasSessionStorage=function hasSessionStorage(){try{return!!this.windowAlias.sessionStorage}catch(t){return!0}},t.hasLocalStorage=function hasLocalStorage(){try{return!!this.windowAlias.localStorage}catch(t){return!0}},t.localStorageAccessible=function localStorageAccessible(){if(!this.hasLocalStorage())return!1;try{return this.windowAlias.localStorage.setItem("spt","spt"),this.windowAlias.localStorage.removeItem("spt"),!0}catch(t){return!1}},t.hasCookies=function hasCookies(t){var e=t||"testcookie";return void 0===this.navigatorAlias.cookieEnabled?(o(e,"1"),"1"===o(e)?"1":"0"):this.navigatorAlias.cookieEnabled?"1":"0"},t.detectSignature=function detectSignature(t){var e=[this.navigatorAlias.userAgent,[this.screenAlias.height,this.screenAlias.width,this.screenAlias.colorDepth].join("x"),(new Date).getTimezoneOffset(),this.hasSessionStorage(),this.hasLocalStorage()],r=[];if(this.navigatorAlias.plugins)for(var n=0;n<this.navigatorAlias.plugins.length;n++)if(this.navigatorAlias.plugins[n]){for(var i=[],o=0;o<this.navigatorAlias.plugins[n].length;o++)i.push([this.navigatorAlias.plugins[n][o].type,this.navigatorAlias.plugins[n][o].suffixes]);r.push([this.navigatorAlias.plugins[n].name+"::"+this.navigatorAlias.plugins[n].description,i.join("~")])}return function murmurhash(t,e){var r,n,i,o,a,s,u,c;for(r=3&t.length,n=t.length-r,i=e,a=3432918353,s=461845907,c=0;n>c;)u=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&t.charCodeAt(c+2))<<1;case 2:u^=(255&t.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}(e.join("###")+"###"+r.sort().join(";"),t)},t.detectTimezone=function detectTimezone(){var t=this.windowAlias.Intl,e=this.windowAlias.moment,r=this.windowAlias.jstz;if(t&&t.DateTimeFormat()&&t.DateTimeFormat().resolvedOptions()){var n=t.DateTimeFormat().resolvedOptions().timeZone;if(n&&(n.indexOf("/")>-1||"UTC"===n)&&0!==n.indexOf("Etc"))return n}if(e&&e.tz&&p(e.tz.guess))return e.tz.guess();if(r&&p(r.determine)){var i=r.determine();if(i)return i.name()}return"Unknown/Unknown"},t.detectViewport=function detectViewport(){var t=this.windowAlias,e="inner";"innerWidth"in this.windowAlias||(e="client",t=this.documentAlias.documentElement||this.documentAlias.body);var r=t[e+"Width"],n=t[e+"Height"];return 0>r||0>n?null:r+"x"+n},t.detectDocumentSize=function detectDocumentSize(){var t=this.documentAlias.documentElement,e=this.documentAlias.body,r=e?Math.max(e.offsetHeight,e.scrollHeight):0,n=Math.max(t.clientWidth,t.offsetWidth,t.scrollWidth),i=Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight,r);return isNaN(n)||isNaN(i)?"":n+"x"+i},t.detectBrowserFeatures=function detectBrowserFeatures(t,e){var r={};return r.res=this.screenAlias.width+"x"+this.screenAlias.height,r.cd=this.screenAlias.colorDepth,t&&(r.cookie=this.hasCookies(e)),r},BrowserFeatureDetector}(),x=createCommonjsModule(function(t){var e,r;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],o=0;4>o;o++)8*n+6*o>8*t.length?r.push("="):r.push(e.charAt(i>>>6*(3-o)&63));return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}},t.exports=r}),C={utf8:{stringToBytes:function(t){return C.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(C.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}},P=C,D=createCommonjsModule(function(t){var e,r,n,i;e=x,r=P.utf8,n=P.bin,(i=function(t,i){var o=e.wordsToBytes(function(t){t.constructor==String&&(t=r.stringToBytes(t));var n=e.bytesToWords(t),i=8*t.length,o=[],a=1732584193,s=-271733879,u=-1732584194,c=271733878,l=-1009589776;n[i>>5]|=128<<24-i%32,n[15+(i+64>>>9<<4)]=i;for(var h=0;h<n.length;h+=16){for(var f=a,d=s,m=u,g=c,p=l,v=0;80>v;v++){if(16>v)o[v]=n[h+v];else{var y=o[v-3]^o[v-8]^o[v-14]^o[v-16];o[v]=y<<1|y>>>31}var S=(a<<5|a>>>27)+l+(o[v]>>>0)+(20>v?1518500249+(s&u|~s&c):40>v?1859775393+(s^u^c):60>v?(s&u|s&c|u&c)-1894007588:(s^u^c)-899497514);l=c,c=u,u=s<<30|s>>>2,s=a,a=S}a+=f,s+=d,u+=m,c+=g,l+=p}return[a,s,u,c,l]}(t));return i&&i.asBytes?o:i&&i.asString?n.bytesToString(o):e.bytesToHex(o)})._blocksize=16,i._digestsize=20,t.exports=i}),E=Symbol(),_=Symbol(),O=Symbol(),I=Symbol(),U=Symbol(),L=Symbol(),N=function(){function OutQueueManager(t,e,r,n,i,o,a,s){if(this.detector=new T(window,navigator,screen,document),this.functionName=t,this.namespace=e,this.mutSnowplowState=r,this.useLocalStorage=n,this.bufferSize=a,this.maxPostBytes=s,this.executingQueue=!1,this.configCollectorUrl=null,this.outQueue=null,this.usePost=o&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,this.useBeacon=i&&navigator&&navigator.sendBeacon,this.path="/a/j",a=this.detector.localStorageAccessible()&&n&&o&&a||1,this.queueName=["snowplowOutQueue",t,e,o?"post2":"get"].join("_"),this.useLocalStorage)try{this.outQueue=JSON.parse(localStorage.getItem(this.queueName))}catch(t){}Array.isArray(this.outQueue)||(this.outQueue=[]),this.mutSnowplowState.outQueues.push(this.outQueue),o&&a>1&&this.mutSnowplowState.bufferFlushers.push(function(){this.executingQueue||this.executeQueue()})}var t=OutQueueManager.prototype;return t[E]=function(t){var e="?",r={co:!0,cx:!0},n=!0;for(var i in t)t.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(n?n=!1:e+="&",e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));for(var o in r)t.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(e+="&"+o+"="+encodeURIComponent(t[o]));return e},t[_]=function(t){var e=function mapValues(t,e){return Object.entries(t).reduce(function(t,r){var n=r[0],i=r[1];return t[n]=e(i),t},{})}(t,function(t){return t.toString()});return{evt:e,bytes:this[O](JSON.stringify(e))}},t[O]=function(t){for(var e=0,r=0;r<t.length;r++){var n=t.charCodeAt(r);n>127?n>2047?55296>n||n>57343?e+=65535>n?3:4:(e+=4,r++):e+=2:e+=1}return e},t[I]=function(t){var e=new XMLHttpRequest;return e.open("POST",t,!0),e.withCredentials=!0,e.setRequestHeader("Content-Type","application/json; charset=UTF-8"),e},t[U]=function(t){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:t})},t[L]=function(t){var e=(new Date).getTime().toString();return t.map(function(t){return t.stm=e}),t},t.enqueueRequest=function enqueueRequest(t,e){if(this.configCollectorUrl=""+e+this.path,this.usePost||this.useBeacon){var r=this[_](t);if(r.bytes>=this.maxPostBytes)return s("Event of size "+r.bytes+" is too long - the maximum size is "+this.maxPostBytes),void this[I](this.configCollectorUrl).send(this[U](this[L]([r.evt])));this.outQueue.push(r)}else this.outQueue.push(this[E](t));var n=!1;this.useLocalStorage&&(n=u(this.queueName,JSON.stringify(this.outQueue))),this.executingQueue||n&&this.outQueue.length<this.bufferSize||this.executeQueue()},t.executeQueue=function executeQueue(){var t=this,e=function onPostSuccess(e){t.outQueue=t.outQueue.slice(e),t.useLocalStorage&&u(t.queueName,JSON.stringify(t.outQueue)),t.executeQueue()};if(this.outQueue=this.outQueue.filter(function(t){return t}),1>this.outQueue.length)this.executingQueue=!1;else{if(!v(this.configCollectorUrl))throw"No Snowplow collector configured, cannot track";this.executingQueue=!0;var r=this.outQueue[0];if(this.usePost||this.useBeacon){var n=this[I](this.configCollectorUrl),i=setTimeout(function(){n.abort(),t.executingQueue=!1},5e3),o=function chooseHowManyToExecute(e){for(var r=0,n=0;r<e.length&&(n+=e[r].bytes)<t.maxPostBytes;)r+=1;return r}(this.outQueue);n.onreadystatechange=function(){4===n.readyState&&n.status>=200&&400>n.status?(e(o),clearTimeout(i)):4!==n.readyState||400>n.status||(clearTimeout(i),t.executingQueue=!1)};var a=this.outQueue.slice(0,o).map(function(t){return t.evt});if(a.length>0&&this.useBeacon){var c=this[U](this[L](a));try{navigator.sendBeacon(this.configCollectorUrl,c),e(o)}catch(t){s(t),n.send(c)}}}else{var l=document.createElement("img",{height:1,width:1});l.onload=function(){t.outQueue.shift(),t.useLocalStorage&&u(t.queueName,JSON.stringify(t.outQueue)),t.executeQueue()},l.onerror=function(){return t.executingQueue=!1},l.src=this.configCollectorUrl+r.replace("?","?stm="+(new Date).getTime()+"&")}}},OutQueueManager}(),Q=createCommonjsModule(function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function whatwgRNG(){return e(r),r}}else{var n=Array(16);t.exports=function mathRNG(){for(var t,e=0;16>e;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}}),z=[],R=0;256>R;++R)z[R]=(R+256).toString(16).substr(1);var V,B,M=function v4(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||Q)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;16>o;++o)e[n+o]=i[o];return e||function bytesToUuid(t,e){var r=e||0,n=z;return""+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}(i)},H=function isNonEmptyJson(t){if(void 0===t||!q(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!0;return!1},q=function isJson(t){return null!=t&&(t.constructor==={}.constructor||t.constructor===[].constructor)},F=function payloadBuilder(t){var e={},r=function c(t,r){null!=r&&""!==r&&(e[t]=r)};return{add:r,addDict:function addDict(t){for(var e in t)t.hasOwnProperty(e)&&"string"==typeof e&&"string"==typeof t[e]&&r(e,t[e])},addJson:function addJson(e,n,i){if(H(i)){var o=JSON.stringify(i);t?r(e,btoa(encodeURIComponent(o))):r(n,o)}},build:function build(){return e}}},G=function get(t,e,r){return(e=Array.isArray(e)?e:e.split(".")).reduce(function(t,e){return t&&t[e]?t[e]:r},t)},J=function has(t,e){return!!G(t,e)},X=function isEqual(t,e){if(t===e)return!0;var r=Array.isArray,n=Object.keys,i={}.hasOwnProperty;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,a,s,u=r(t),c=r(e);if(u&&c){if((a=t.length)!=e.length)return!1;for(o=a;0!=o--;)if(!isEqual(t[o],e[o]))return!1;return!0}if(u!=c)return!1;var l=t instanceof Date,h=e instanceof Date;if(l!=h)return!1;if(l&&h)return t.getTime()==e.getTime();var f=t instanceof RegExp,d=e instanceof RegExp;if(f!=d)return!1;if(f&&d)return t.toString()==e.toString();var m=n(t);if((a=m.length)!==n(e).length)return!1;for(o=a;0!=o--;)if(!i.call(e,m[o]))return!1;for(o=a;0!=o--;)if(!isEqual(t[s=m[o]],e[s]))return!1;return!0}return t!=t&&e!=e},W=function isObject(t){var e=typeof t;return null!=e&&("object"==e||"function"==e)},Y=function validateVendor(t){var e=t.split(".");return!(!e||1>=e.length)&&function validateVendorParts(t){if("*"===t[0]||"*"===t[1])return!1;if(t.slice(2).length>0){var e=!1,r=t.slice(2),n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}if("*"===o)e=!0;else if(e)return!1}return!0}return 2==t.length}(e)},Z=function getRuleParts(t){var e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(t);return null!==e&&Y(e[1])?e.slice(1,6):void 0},K=function isValidRule(t){var e=Z(t);if(e){var r=e[0];return 5===e.length&&Y(r)}return!1},$=function isValidRuleSetArg(t){return function isStringArray(t){return Array.isArray(t)&&t.every(function(t){return"string"==typeof t})}(t)?t.every(function(t){return K(t)}):!("string"!=typeof t)&&K(t)},tt=function isSelfDescribingJson(t){return!!(H(t)&&"schema"in t&&"data"in t)&&"string"==typeof t.schema&&"object"==typeof t.data},et=function isContextGenerator(t){return"function"==typeof t&&1>=t.length},rt=function isContextFilter(t){return"function"==typeof t&&1>=t.length},nt=function isContextPrimitive(t){return et(t)||tt(t)},it=function isFilterProvider(t){return!(!Array.isArray(t)||2!==t.length)&&(Array.isArray(t[1])?rt(t[0])&&t[1].every(nt):rt(t[0])&&nt(t[1]))},ot=function isRuleSetProvider(t){return!(!Array.isArray(t)||2!==t.length)&&!!function isRuleSet(t){var e=0;if(function isPlainObject(t){return!!W(t)&&"function"==typeof t.constructor&&!!W(t.constructor.prototype)&&t.constructor.prototype.hasOwnProperty("isPrototypeOf")}(t)){if(J(t,"accept")){if(!$(t.accept))return!1;e+=1}if(J(t,"reject")){if(!$(t.reject))return!1;e+=1}return e>0&&2>=e}return!1}(t[0])&&(Array.isArray(t[1])?t[1].every(nt):nt(t[1]))},at=function isConditionalContextProvider(t){return it(t)||ot(t)},st=function matchSchemaAgainstRule(t,e){if(!K(t))return!1;var r=Z(t),n=function getSchemaParts(t){var e=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t);return null===e?void 0:e.slice(1,6)}(e);if(r&&n){if(!ut(r[0],n[0]))return!1;for(var i=1;5>i;i++)if(!ct(r[i],n[i]))return!1;return!0}return!1},ut=function matchVendor(t,e){var r=e.split("."),n=t.split(".");if(r&&n){if(r.length!==n.length)return!1;for(var i=0;i<n.length;i++)if(!ct(r[i],n[i]))return!1;return!0}return!1},ct=function matchPart(t,e){return t&&e&&"*"===t||t===e},lt=function normalizeToArray(t){return Array.isArray(t)?t:[t]},ht=function generatePrimitives(t,e,r,n){var i,o=lt(t).map(function(t){return function f(t){var i=ft(t,e,r,n);if(i&&0!==i.length)return i}(t)}).filter(Boolean);return(i=[]).concat.apply(i,o)},ft=function evaluatePrimitive(t,e,r,n){if(tt(t))return[t];if(et(t)){var i=function buildGenerator(t,e,r,n){var i;try{return i=t({event:e,eventType:r,eventSchema:n}),tt(i)?i:Array.isArray(i)&&i.every(tt)?i:void 0}catch(t){i=void 0}return i}(t,e,r,n);if(tt(i))return[i];if(Array.isArray(i))return i}},dt=function trackerCore(t,r){void 0===t&&(t=!0);var n={},o=function contextModule(){var t=[],e=[],r=function c(r){var n=function getUsefulSchema(t){return"string"==typeof G(t,"ue_px.data.schema")?G(t,"ue_px.data.schema"):"string"==typeof G(t,"ue_pr.data.schema")?G(t,"ue_pr.data.schema"):"string"==typeof G(t,"schema")?G(t,"schema"):""}(r),i=function getEventType(t){return G(t,"e","")}(r),o=[],a=ht(t,r,i,n);o.push.apply(o,a);var s=function generateConditionals(t,e,r,n){var i,o=lt(t).map(function(t){return function f(t){var i=function evaluateProvider(t,e,r,n){if(it(t)){var i=t[0],o=!1;try{o=i({event:e,eventType:r,eventSchema:n})}catch(t){o=!1}if(!0===o)return ht(t[1],e,r,n)}else if(ot(t)&&function matchSchemaAgainstRuleSet(t,e){var r=0,n=0,i=G(t,"accept");Array.isArray(i)?t.accept.some(function(t){return st(t,e)})&&n++:"string"==typeof i&&st(i,e)&&n++;var o=G(t,"reject");return Array.isArray(o)?t.reject.some(function(t){return st(t,e)})&&r++:"string"==typeof o&&st(o,e)&&r++,!(0>=n||0!=r)||!(0===n&&r>0)&&!1}(t[0],n))return ht(t[1],e,r,n);return[]}(t,e,r,n);if(i&&0!==i.length)return i}(t)}).filter(Boolean);return(i=[]).concat.apply(i,o)}(e,r,i,n);return o.push.apply(o,s),o};return{addGlobalContexts:function addGlobalContexts(r){for(var n=[],i=[],o=Array.isArray(s=r),a=0,s=o?s:s[Symbol.iterator]();;){var u;if(o){if(a>=s.length)break;u=s[a++]}else{if((a=s.next()).done)break;u=a.value}var c=u;at(c)?n.push(c):nt(c)&&i.push(c)}t=t.concat(i),e=e.concat(n)},clearGlobalContexts:function clearGlobalContexts(){e=[],t=[]},removeGlobalContexts:function removeGlobalContexts(r){for(var n=function _loop(){if(i){if(o>=a.length)return"break";s=a[o++]}else{if((o=a.next()).done)return"break";s=o.value}var r=s;at(r)?e=e.filter(function(t){return!X(t,r)}):nt(r)&&(t=t.filter(function(t){return!X(t,r)}))},i=Array.isArray(a=r),o=0,a=i?a:a[Symbol.iterator]();;){var s;if("break"===n())break}},getApplicableContexts:function getApplicableContexts(t){var e=t.build();if(function isEventJson(t){return!!(H(t)&&"e"in t)&&"string"==typeof t.e}(e)){var n=function getDecodedEvent(t){var e=Object.assign({},t);try{J(e,"ue_px")&&(e.ue_px=JSON.parse(atob(G(e,["ue_px"]))))}catch(t){}return e}(e);return r(n)}return[]}}}(),a=function e(t){return o.getApplicableContexts(t)},s=function f(t,e){n[t]=e},u=function h(t,e){var r=a(t),n=[];return e&&e.length&&n.push.apply(n,e),r&&r.length&&n.push.apply(n,r),n},c=function i(t,e,o){t.addDict(n),t.add("eid",M());var a=function getTimestamp(t){return null==t?{type:"dtm",value:(new Date).getTime()}:"number"==typeof t?{type:"dtm",value:t}:"ttm"===t.type?{type:"ttm",value:t.value}:{type:"dtm",value:t.value||(new Date).getTime()}}(o);t.add(a.type,a.value.toString());var i=u(t,e),s=function g(t){if(t&&t.length)return{schema:"contexts",data:t}}(i);return void 0!==s&&t.addJson("cx","co",s),"function"==typeof r&&r(t),t},l=function j(e,r,n){var i=F(t);return i.add("e","ue"),i.addJson("ue_px","ue_pr",{schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:e}),c(i,r,n)};return{setBase64Encoding:function setBase64Encoding(e){return t=e},addPayloadPair:s,addPayloadDict:function addPayloadDict(t){for(var e in t)"string"==typeof e&&t.hasOwnProperty(e)&&"string"==typeof t[e]&&(n[e]=t[e])},resetPayloadPairs:function resetPayloadPairs(t){n=q(t)?t:{}},setTrackerVersion:function setTrackerVersion(t){return s("tv",t)},setTrackerNamespace:function setTrackerNamespace(t){return s("tna",t)},setAppId:function setAppId(t){return s("aid",t)},setPlatform:function setPlatform(t){return s("p",t)},setUserId:function setUserId(t){return s("uid",t)},setViewport:function setViewport(t,e){return s("vp",t+"x"+e)},setColorDepth:function setColorDepth(t){return s("cd",""+t)},setTimezone:function setTimezone(t){return s("tz",t)},trackUnstructEvent:l,trackSelfDescribingEvent:l,trackPageView:function trackPageView(e,r,n,i,o){var a=F(t);return a.add("e","pv"),a.add("url",e),a.add("page",r),a.add("refr",n),c(a,i,o)},trackPagePing:function trackPagePing(e,r,n,i,o,a,s,u,l){var h=F(t);return h.add("e","pp"),h.add("url",e),h.add("page",r),h.add("refr",n),h.add("pp_mix",i.toString()),h.add("pp_max",o.toString()),h.add("pp_miy",a.toString()),h.add("pp_may",s.toString()),c(h,u,l)},trackStructEvent:function trackStructEvent(e,r,n,i,o,a,s){var u=F(t);return u.add("e","se"),u.add("se_ca",e),u.add("se_ac",r),u.add("se_la",n),u.add("se_pr",i),u.add("se_va",null==o?void 0:o.toString()),c(u,a,s)},addGlobalContexts:function addGlobalContexts(t){return o.addGlobalContexts(t)},clearGlobalContexts:function clearGlobalContexts(){return o.clearGlobalContexts()},removeGlobalContexts:function removeGlobalContexts(t){return o.removeGlobalContexts(t)}}},mt={encodeBase64:!0,cookieDomain:null,cookieName:"_sp_",cookieSameSite:"None",cookieSecure:!0,appId:"",platform:"web",respectDoNotTrack:!1,userFingerprint:!0,userFingerprintSeed:123412414,pageUnloadTimer:500,forceSecureTracker:!1,forceUnsecureTracker:!1,useLocalStorage:!0,useCookies:!0,sessionCookieTimeout:1800,contexts:{},post:!1,beacon:!0,bufferSize:1,crossDomainLinker:!1,maxPostBytes:4e4,discoverRootDomain:!0,cookieLifetime:63072e3,stateStorageStrategy:"cookieAndLocalStorage"},gt=function(){function ConfigManager(t){this._config=t}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(ConfigManager,[{key:"config",get:function get(){return Object.assign({},mt,this._config)}}]),ConfigManager}(),pt=Symbol(),vt=Symbol(),yt=Symbol(),St=Symbol(),wt=Symbol(),bt=Symbol(),kt=Symbol(),At=Symbol(),Tt=Symbol(),xt=Symbol(),Ct=Symbol(),Pt=Symbol(),Dt=Symbol(),Et=Symbol(),_t=Symbol(),Ot=Symbol(),It=Symbol(),Ut=Symbol(),Lt=Symbol(),Nt=Symbol(),Qt=Symbol(),jt=Symbol(),zt=Symbol(),Rt=Symbol(),Vt=Symbol(),Bt=Symbol(),Mt=Symbol(),Ht=Symbol(),qt=Symbol(),Ft=Symbol(),Gt=Symbol(),Jt=Symbol(),Xt=Symbol(),Wt=Symbol(),Yt=new T(window,navigator,screen,document),Zt=document,Kt=window,$t=navigator,te=Symbol(),ee=Symbol(),re=function(){function JavascriptTracker(t,n,i,o,a){var s=this,u=this;this.ConfigManager=new gt(a||{}),this[ee]=this.ConfigManager.config,this.mutSnowplowState=o,this[te]={get locationArray(){return g(Zt.domain,Kt.location.href,r())},get domainAlias(){return e(this.locationArray[0])},locationHrefAlias:"",referrerUrl:"",pagePingInterval:20,customReferrer:"",requestMethod:"GET",collectorUrl:"",customUrl:"",lastDocumentTitle:"",lastConfigTitle:"",activityTrackingEnabled:!1,minimumVisitTime:0,heartBeatTimer:0,discardHashTag:!1,cookiePath:"/",get dnt(){return $t.doNotTrack||$t.msDoNotTrack||Kt.doNotTrack},get doNotTrack(){return ee.respectDoNotTrack&&("yes"===this.dnt||"1"===this.dnt||!0===this.dnt)},optOutCookie:!1,countPreRendered:!1,get documentCharset(){return Zt.characterSet||Zt.charset},get forceSecureTracker(){return u[ee].forceSecureTracker},get forceUnsecureTracker(){return!u.forceSecureTracker&&u[ee].forceUnsecureTracker},get browserLanguage(){return $t.userLanguage||$t.language},get browserFeatures(){return Yt.detectBrowserFeatures("cookie"===u[ee].stateStorageStrategy||"cookieAndLocalStorage"===u[ee].stateStorageStrategy,u[bt]("testcookie"))},get userFingerprint(){return!1===ee.userFingerprint?"":Yt.detectSignature(ee.userFingerprintSeed)},trackerId:t+"_"+n,activityTrackingInstalled:!1,lastActivityTime:null,lastEventTime:(new Date).getTime(),minXOffset:0,maxXOffset:0,minYOffset:0,maxYOffset:0,hash:D,domainHash:null,domainUserId:null,memorizedSessionId:1,businessUserId:null,geolocationContextAdded:!1,commonContexts:[],preservePageViewId:!1,pageViewSent:!1},this.core=dt(!0,function(t){s[Qt](t),s[wt](t,s[ee].pageUnloadTimer)}),this.outQueueManager=new N(t,n,o,"localStorage"===this[ee].stateStorageStrategy||"cookieAndLocalStorage"===ee.stateStorageStrategy,this[ee].beacon,this[ee].post,this[ee].bufferSize,this[ee].maxPostBytes),this[ee].discoverRootDomain&&(this[ee].cookieDomain=l()),this[ee].contexts.gaCookies&&this[te].commonContexts.push(this[qt]()),this[ee].contexts.geolocation&&this[Ht](),this.core.setBase64Encoding(this[ee].encodeBase64),this.core.setTrackerVersion(i),this.core.setTrackerNamespace(n),this.core.setAppId(this[ee].appId),this.core.setPlatform(this[ee].platform),this.core.setTimezone(Yt.detectTimezone()),this.core.addPayloadPair("lang",this[te].browserLanguage),this.core.addPayloadPair("cs",this[te].documentCharset);var c=this[te].browserFeatures;Object.keys(c).forEach(function(t){"res"!==t&&"cd"!==t&&"cookie"!==t||s.core.addPayloadPair(t,c[t])}),this[te].locationHrefAlias=this[te].locationArray[1],this[te].referrerUrl=this[te].locationArray[2],this[At](),this[Lt](),this[ee].crossDomainLinker&&this[yt](this[ee].crossDomainLinker)}var i=JavascriptTracker.prototype;return i[pt]=function(){var t=this[te].locationHrefAlias;this[te].locationArray[1]!==t&&(this[te].ReferrerUrl=r(t)),this[te].locationHrefAlias=this[te].locationArray[1]},i[vt]=function(t){var e=(new Date).getTime();t.target.href&&(t.target.href=function decorateQuerystring(t,e,r){var n=e+"="+r,i=t.split("#"),o=i[0].split("?"),a=o.shift(),s=o.join("?");if(s){for(var u=!0,c=s.split("&"),l=0;l<c.length;l++)if(c[l].substr(0,e.length+1)===e+"="){u=!1,c[l]=n,s=c.join("&");break}u&&(s=n+"&"+s)}else s=n;return i[0]=a+"?"+s,i.join("#")}(t.target.href,"_sp",this[te].domainUserId+"."+e))},i[yt]=function(t){var e=this,r=Zt.links,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a;!s.spDecorationEnabled&&t(s)&&(n(s,"click",function(t){return e[vt](t)},!0),n(s,"mousedown",function(t){return e[vt](t)},!0),s.spDecorationEnabled=!0)}},i[St]=function(t){return this[te].discardHashTag?t.replace(/#.*/,""):t},i[wt]=function(t,e){var r,n=new Date;r=!!this[te].optOutCookie&&!!o(this[te].optOutCookie),this[te].doNotTrack||r||(this.outQueueManager.enqueueRequest(t.build(),this[ee].collectorUrl),this.mutSnowplowState.expireDateTime=n.getTime()+e)},i[bt]=function(t){return""+this[ee].cookieName+t+"."+this[te].domainHash},i[kt]=function(t){var e=this[bt](t);return"localStorage"===this[ee].stateStorageStrategy?function attemptGetLocalStorage(t){try{return localStorage.getItem(t)}catch(t){}}(e):"cookie"==this[ee].stateStorageStrategy||"cookieAndLocalStorage"==this[ee].stateStorageStrategy?o(e):void 0},i[At]=function(){this[pt](),this[te].domainHash=this[te].hash((this[ee].cookieDomain||this[te].domainAlias)+(this[te].cookiePath||"/")).slice(0,4)},i[Tt]=function(){this[te].lastActivityTime=(new Date).getTime()},i[xt]=function(){this[Et](),this[Tt]()},i[Ct]=function(){var t=Zt.compatMode&&"BackCompat"!==Zt.compatMode?Zt.documentElement:Zt.body;return[t.scrollLeft||Kt.pageXOffset,t.scrollTop||Kt.pageYOffset]},i[Pt]=function(){var t=this[Ct](),e=t[0],r=t[1];this[te].minXOffset=e,this[te].maxXOffset=e,this[te].minYOffset=r,this[te].maxYOffset=r},i[Et]=function(){var t=this[Ct](),e=t[0],r=t[1];e<this[te].minXOffset?this[te].minXOffset=e:e>this[te].maxXOffset&&(this[te].maxXOffset=e),r<this[te].minYOffset?this[te].minYOffset=r:r>this[te].maxYOffset&&(this[te].maxYOffset=r)},i[Dt]=function(t){var e=Math.round(t);if(!isNaN(e))return e},i[_t]=function(){var t=this[bt]("ses");this[It](t,"*",this[ee].sessionCookieTimeout)},i[Ot]=function(t,e,r,n,i,o){var a=this[bt]("id"),s=t+"."+e+"."+r+"."+n+"."+i+"."+o;this[It](a,s,this[ee].cookieLifetime)},i[It]=function(t,e,r){"localStorage"==this[ee].stateStorageStrategy?u(t,e):"cookie"!=this[ee].stateStorageStrategy&&"cookieAndLocalStorage"!=this[ee].stateStorageStrategy||o(t,e,r,this[te].cookiePath,this[ee].cookieDomain)},i[Ut]=function(){return M()},i[Lt]=function(){var t="none"!=this[ee].stateStorageStrategy&&!!this[kt]("ses"),e=this[Nt]();e[1]?this[te].domainUserId=e[1]:(this[te].domainUserId=this[Ut](),e[1]=this[te].domainUserId),this[te].memorizedSessionId=e[6],t||(e[3]++,this[te].memorizedSessionId=M(),e[6]=this[te].memorizedSessionId,e[5]=e[4]),"none"!=this[ee].stateStorageStrategy&&(this[_t](),e[4]=Math.round((new Date).getTime()/1e3),e.shift(),this[Ot].apply(this,e))},i[Nt]=function(){if("none"==this[ee].stateStorageStrategy)return[];var t,e=Math.round((new Date).getTime()/1e3),r=this[kt]("id");return r?(t=r.split(".")).unshift("0"):t=["1",this[te].domainUserId,e,0,e,""],t[6]||(t[6]=M()),t},i[Qt]=function(t){var e,r=Math.round((new Date).getTime()/1e3),n=this[bt]("id"),i=this[bt]("ses"),a=this[kt]("ses"),s=this[Nt](),c=s[0],l=s[1],h=s[2],f=s[3],d=s[4],m=s[5],g=s[6];e=!!this[te].optOutCookie&&!!o(this[te].optOutCookie),!this[te].doNotTrack&&!e||"none"==this[ee].stateStorageStrategy?("0"===c?(this[te].memorizedSessionId=g,a||"none"==this[ee].stateStorageStrategy||(f++,m=d,this[te].memorizedSessionId=M()),this[te].memorizedVisitCount=f):(new Date).getTime()-this[te].lastEventTime>1e3*this[ee].sessionCookieTimeout&&(this[te].memorizedSessionId=M(),this[te].memorizedVisitCount++),t.add("vp",Yt.detectViewport()),t.add("ds",Yt.detectDocumentSize()),t.add("vid",this[te].memorizedVisitCount),t.add("sid",this[te].memorizedSessionId),t.add("duid",l),t.add("fp",this[te].userFingerprint),t.add("uid",this[te].businessUserId),this[pt](),t.add("refr",this[St](this[te].customReferrer||this[te].referrerUrl)),t.add("url",this[St](this[te].customReferrer||this[te].locationHrefAlias)),"none"!=this[ee].stateStorageStrategy&&(this[Ot](l,h,this[te].memorizedVisitCount,r,m,this[te].memorizedSessionId),this[_t]()),this[te].lastEventTime=(new Date).getTime()):"localStorage"==this[ee].stateStorageStrategy?(u(n,""),u(i,"")):"cookie"!=this[ee].stateStorageStrategy&&"cookieAndLocalStorage"!=this[ee].stateStorageStrategy||(o(n,"",-1,this[te].cookiePath,this[ee].cookieDomain,this[ee].cookieSameSite,this[ee].cookieSecure),o(i,"",-1,this[te].cookiePath,this[ee].cookieDomain,this[ee].cookieSameSite,this[ee].cookieSecure))},i[jt]=function(t){return this[te].forceSecureTracker?"https://"+t:this[te].forceUnsecureTracker?"http://"+t:("https:"===Zt.location.protocol?"https":"http")+"://"+t},i[zt]=function(t){t=t&&Object.entries(t).length>0?{schema:"event",data:t.constructor===Array?t[0]:t}:void 0;var e=this[te].commonContexts.concat(t||[]);if(this[ee].contexts.webPage&&e.push(this[Bt]()),this[ee].contexts.performanceTiming){var r=this[Mt]();r&&e.push(r)}for(var n=0,i=["marker","mamka_auid","auid"];i.length>n;n++){var a=i[n],s=o(a);""!==s&&e.push({schema:a,data:{id:s}})}return e},i[Rt]=function(){this[te].preservePageViewId&&null!=this.mutSnowplowState.pageViewId||(this.mutSnowplowState.pageViewId=M())},i[Vt]=function(){return null==this.mutSnowplowState.pageViewId&&(this.mutSnowplowState.pageViewId=M()),this.mutSnowplowState.pageViewId},i[Bt]=function(){return{schema:"webPage",data:{id:this[Vt]()}}},i[Mt]=function(){var t=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint","chromeFirstPaint","requestEnd","proxyStart","proxyEnd"],e=Kt.performance||Kt.mozPerformance||Kt.msPerformance||Kt.webkitPerformance;if(e){var r={};for(var n in e.timing)h(n,t)&&null!==e.timing[n]&&(r[n]=e.timing[n]);return delete r.requestEnd,Kt.chrome&&Kt.chrome.loadTimes&&"number"==typeof Kt.chrome.loadTimes().firstPaintTime&&(r.chromeFirstPaint=Math.round(1e3*Kt.chrome.loadTimes().firstPaintTime)),{schema:"PerformanceTiming",data:r}}},i[Ht]=function(){var t=this;!this[te].geolocationContextAdded&&$t.geolocation&&$t.geolocation.getCurrentPosition&&(this[te].geolocationContextAdded=!0,$t.geolocation.getCurrentPosition(function(e){var r=e.coords,n={schema:"geolocation",data:{latitude:r.latitude,longitude:r.longitude,latitudeLongitudeAccuracy:r.accuracy,altitude:r.altitude,altitudeAccuracy:r.altitudeAccuracy,bearing:r.heading,speed:r.speed,timestamp:Math.round(e.timestamp)}};t[te].commonContexts.push(n)}))},i[qt]=function(){var t={};return["__utma","__utmb","__utmc","__utmv","__utmz","_ga"].forEach(function(e){var r=o(e);r&&(t[e]=r)}),{schema:"gaCookies",data:t}},i[Ft]=function(t,e){return(t||[]).concat(e?e():[])},i[Gt]=function(e,r,i,o){var a=this;this[pt](),this[te].pageViewSent&&this[Rt](),this[te].pageViewSent=!0,this[te].lastDocumentTitle=Zt.title,this[te].lastConfigTitle=e;var s=t(this[te].lastConfigTitle||this[te].lastDocumentTitle);this.core.trackPageView(this[St](this[te].customUrl||this[te].locationHrefAlias),s,this[St](this[te].customReferrer||this[te].referrerUrl),this[zt](this[Ft](r,i)),o);var u=new Date;if(this[te].activityTrackingEnabled&&!this[te].activityTrackingInstalled){this[te].activityTrackingInstalled=!0;var c={update:function update(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function get(){return t=!0}}),r=function noop(){};window.addEventListener("testPassiveEventSupport",r,e),window.removeEventListener("testPassiveEventSupport",r,e),c.hasSupport=t}}};c.update();var l="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";!{}.hasOwnProperty.call(c,"hasSupport")?n(Zt,l,function(){return a[Tt]}):n(Zt,l,function(){},{passive:!0}),this[Pt](),n(Zt,"click",function(){return a[Tt]}),n(Zt,"mouseup",function(){return a[Tt]}),n(Zt,"mousedown",function(){return a[Tt]}),n(Zt,"mousemove",function(){return a[Tt]}),n(Kt,"scroll",function(){return a[xt]}),n(Zt,"keypress",function(){return a[Tt]}),n(Zt,"keydown",function(){return a[Tt]}),n(Zt,"keyup",function(){return a[Tt]}),n(Kt,"resize",function(){return a[Tt]}),n(Kt,"focus",function(){return a[Tt]}),n(Kt,"blur",function(){return a[Tt]}),this[te].lastActivityTime=u.getTime(),clearInterval(this[te].pagePingInterval),this[te].pagePingInterval=setInterval(function(){var t=new Date;a[te].lastActivityTime+a[ee].heartBeatTimer>t.getTime()&&a[te].minimumVisitTime<t.getTime()&&a[Jt](a[Ft](r,i))},this[ee].heartBeatTimer)}},i[Jt]=function(e){this[pt]();var r=Zt.title;r!==this[te].lastDocumentTitle&&(this[te].lastDocumentTitle=r,this[te].lastConfigTitle=null),this.core.trackPagePing(this[St](this[te].customUrl||this[te].locationHrefAlias),t(this[te].lastConfigTitle||this[te].lastDocumentTitle),this[St](this[te].customReferrer||this[te].referrerUrl),this[Dt](this[te].minXOffset),this[Dt](this[te].maxXOffset),this[Dt](this[te].minYOffset),this[Dt](this[te].maxYOffset),this[zt](e)),this[Pt]()},i[Xt]=function(t,e){return""!==t?t+e.charAt(0).toUpperCase()+e.slice(1):e},i[Wt]=function(t){var e,r,i,o=["","webkit","ms","moz"];if(!this[te].countPreRendered)for(r=0;o.length>r;r++){if(i=o[r],Zt[this[Xt](i,"hidden")]){"prerender"===Zt[this[Xt](i,"visibilityState")]&&(e=!0);break}if(!1===Zt[this[Xt](i,"hidden")])break}e?n(Zt,i+"visibilitychange",function eventHandler(){Zt.removeEventListener(i+"visibilitychange",eventHandler,!1),t()}):t()},i.discardHashTag=function discardHashTag(t){this[te].discardHashTag=t},i.crossDomainLinker=function crossDomainLinker(t){this[yt](t)},i.setUserId=function setUserId(t){this[te].businessUserId=t},i.setCollectorUrl=function setCollectorUrl(t){this[ee].collectorUrl=this[jt](t)},i.trackPageView=function trackPageView(t,e,r,n){var i=this;this[Wt](function(){i[Gt](t,e,r,n)})},i.send_page_view=function send_page_view(t){var e=this;this[Wt](function(){e[Gt](void 0,[t],void 0,null)})},i.get_params=function get_params(t){s("get_params is deprecated!")},i.trackStructEvent=function trackStructEvent(t,e,r,n,i,o,a){var s=this;this[Wt](function(){s.core.trackStructEvent(t,e,r,n,i,s[zt](o),a)})},i.send_event=function send_event(t){var e,r,n,i=this,o=t.meta;if(t.name.includes("--")){var a=t.name.split("--");e=a[0],n=a[1],r=a[2]}else e=r=t.name;this[Wt](function(){i.core.trackStructEvent(e,r,n,null,null,i[zt](o),null)})},i.trackUnstructEvent=function trackUnstructEvent(t,e,r){var n=this;this[Wt](function(){n.core.trackSelfDescribingEvent(t,n[zt](e),r)})},i.preservePageViewId=function preservePageViewId(){this[te].preservePageViewId=!0},JavascriptTracker}(),ne=function SnowplowTracker(t,e){var r=this;this.documentAlias=document,this.windowAlias=window,this.version="js-19.18.9",this.mutSnowplowState={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[],pageViewId:null};var i=function loadHandler(){var t;if(!r.mutSnowplowState.hasLoaded)for(r.mutSnowplowState.hasLoaded=!0,t=0;t<r.mutSnowplowState.registeredOnLoadHandlers.length;t++)r.mutSnowplowState.registeredOnLoadHandlers[t]();return!0};return n(this.windowAlias,"beforeunload",function beforeUnloadHandler(){var t;if(r.mutSnowplowState.bufferFlushers.forEach(function(t){t()}),r.mutSnowplowState.expireDateTime)do{if(t=new Date,0===r.mutSnowplowState.outQueues.filter(function(t){return t.length>0}).length)break}while(t.getTime()<r.mutSnowplowState.expireDateTime)},!1),function addReadyListener(){var t;r.documentAlias.addEventListener?n(r.documentAlias,"DOMContentLoaded",function ready(){this.documentAlias&&this.documentAlias.removeEventListener&&(this.documentAlias.removeEventListener("DOMContentLoaded",ready,!1),i())}):r.documentAlias.attachEvent&&(r.documentAlias.attachEvent("onreadystatechange",function ready(){"complete"===this.documentAlias.readyState&&(this.documentAlias.detachEvent("onreadystatechange",ready),i())}),r.documentAlias.documentElement.doScroll&&r.windowAlias===r.windowAlias.top&&function ready(){if(!this.mutSnowplowState.hasLoaded){try{this.documentAlias.documentElement.doScroll("left")}catch(t){return void setTimeout(ready,0)}i()}}()),/WebKit/.test(navigator.userAgent)&&(t=setInterval(function(){(r.mutSnowplowState.hasLoaded||/loaded|complete/.test(r.documentAlias.readyState))&&(clearInterval(t),i())},10)),n(r.windowAlias,"load",i,!1)}(),new A(re,this.version,this.mutSnowplowState,t,e)},ie=window;ie.GSN&&ie.GSN.length>0?(V=ie.GSN.shift(),(B=ie[V]).q=new ne(B.q,V)):(ie._snaq=ie._snaq||[],ie._snaq=new ne(ie._snaq,"_snaq"))}();
//# sourceMappingURL=sp.js.map
